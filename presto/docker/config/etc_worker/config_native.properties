coordinator=false
http-server.http.port=8080
discovery.uri=http://presto-coordinator:8080

presto.version=testversion

# Native execution settings (works for both CPU and GPU)
# CUDF setting - will be overridden by environment variables for GPU variants
enable-cudf=false
native-execution-enabled=true

# Conservative settings for native execution
task.concurrency=1
task.max-drivers-per-task=1
task.max-memory=4GB
task.writer-count=1

# Memory management
memory.heap-headroom-per-node=1GB
query.max-memory-per-node=4GB
query.max-total-memory-per-node=4GB

# Disable features that might conflict with native execution
experimental.spill-enabled=false
experimental.aggregation-if-to-filter-rewrite-strategy=DISABLED
experimental.join-reordering-strategy=NONE

# Native worker specific settings
task.max-partial-aggregation-memory=64MB
task.share-index-loading=false

# GPU-specific settings (ignored when enable-cudf=false)
experimental.cudf-output-validation.disabled=true
experimental.cudf.force-host-memory-for-dictionary=true
