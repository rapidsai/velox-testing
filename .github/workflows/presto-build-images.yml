#
# Presto Docker Image Builder
#

name: Presto Build Docker Images

on:
  # run manually from the Actions tab with parameters
  workflow_dispatch:
    inputs:
      presto_commit:
        description: 'Presto commit SHA or branch to build'
        required: true
        default: "master"
      velox_commit:
        description: 'Velox commit SHA or branch to build'
        required: true
        default: "main"
  # temporary push trigger to register workflow in GitHub UI
  push:
    branches: [main]

jobs:
  build-images:
    name: Build Docker Images
    runs-on: linux-amd64-cpu16
    defaults:
      run:
        shell: bash

    steps:
      # Test step
      - name: Test Workflow
        run: |
          echo "Building Presto commit: ${{ github.event.inputs.presto_commit }}"
          echo "Building Velox commit: ${{ github.event.inputs.velox_commit }}"
          echo "Workflow is working!"