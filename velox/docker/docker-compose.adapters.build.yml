services:
  velox-adapters-build:
    container_name: velox-adapters-build
    image: velox-adapters-build:latest
    build:
      context: ../../..
      dockerfile: velox-testing/velox/docker/adapters_build.dockerfile
      ulimits: {nofile: {soft: 500000, hard: 500000}}
    runtime: ${DOCKER_RUNTIME:-nvidia}
    volumes:
      - ../../../velox:/workspace/velox
    working_dir: /workspace/velox
